

shop项目 -- 模拟商城

		1. 生成二维码，(QRCode）
		2.判断支付方式，判断ua的方式区别支付宝或者微信。
	    3. 生成模拟订单。（t_goods_order）。
	    4. 封装支付接口的参数，调用统一下单接口。（做签名MD5）.
	    
	   项目流程
	   1. 程序入口：/shop/showCode 加载二维码页面。
	   2. 扫码发送请求到shop/recPay。支付入口，通过UA的方式识别，支付方式。
	   3. 生成订单。
	   4.调用统一下单接口（/pay/create_order）。通过zuul网关转发给hzpay-web服务。
	    


gate-way服务：网关

			1. 请求路由，路由规则：/pay-service/。



hzpay-web：支付系统入口

		1.兼容各种支付方式。
		2.对请求数据，做校验。非空校验，判断商户，判断支付渠道。
		3.生成支付的流水。t-pay-order
		
		流程：
		  1.参数校验。 1.必传参数的空判断。2.数据真实性校验（MD5）
		  3.判断是否属于支付系统的商户，判断是否支付支持支付渠道。（通过springCloud调用），hzpay-service提供服务。
		  4.创建交易订单。调用创建交易订单的接口（/pay/create），hzpay-service提供服务。
		  5.根据不同的支付渠道，调用不同的支付接口。
		 
		
		


hzpay-service: 支付接口实现，数据库查询接口，提供springCloud服务。

```
	1.商户信息查询接口。
	2.渠道信息查询接口。
	3.保存支付流水接口。
	4.提供支付渠道的实现方式(aplipayWap) 接口地址：/pay/channel/ali_wap，调用支付公司或者银行的接口。1.根据接口完档封装接口所需的参数发送请求。
	5.把交易订单更新为支付中。
	
	6.异步接收支付宝的回调请求（/notify/payResult.htm）.
	  1.判断必填的参数是否返回。
	
	
```

​	

